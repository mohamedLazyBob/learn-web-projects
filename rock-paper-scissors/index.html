<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>

	<script>
		function computerPlay() {
			let move = ['Rock', 'paper', 'Scissors'];
			let i = Math.floor(Math.random() * 10 % 3);
			// return ('rock');
			// console.log(`i : ${i}`)
			// console.log(`move : ${move}`)
			// console.log(`move[i] : ${move[i]}`)
			return (move[i]);
		}

		function playRound(playerSelection1, computerSelection1) {
			let winner = 0;
			let playerSelection = playerSelection1.toLowerCase();
			let computerSelection = computerSelection1.toLowerCase();
			console.log(`computer selection is : ${computerSelection}`);
			console.log(`player selection is : ${playerSelection}`);
			switch (playerSelection) {
				case 'rock': {
					switch (computerSelection) {
						case 'rock':
							winner = 0;
							break;
						case 'paper':
							{
								winner = -1;
								break;
							}
						case 'scissors': {
							winner = 1;
							break;
						}
						default:
							break;
					}
					break;
				}
				case 'paper': {
					switch (computerSelection) {
						case 'rock': {
							winner = 1;
							break;
						}
						case 'paper': {
							winner = 0;
							break;
						}
						case 'scissors': {
							winner = -1;
							break;
						}
						default:
							break;
					}
					break;
				}
				case 'scissors': {
					switch (computerSelection) {
						case 'rock':
							winner = -1;
							break;
						case 'paper':
							winner = 1;
							break;
						case 'scissors':
							winner = 0;
							break;
						default:
							break;
					}
					break;
				}
			}
			console.log(winner);
			return (winner);
		}
		function game() {
			let me = 0;
			let computer = 0;
			for (let index = 0; index < 5; index++) {
				const computerSelection = computerPlay();
				const playerSelection = window.prompt('write you choice', 'rock');
				playerSelection.toLowerCase();
				if (playerSelection == 'rock' || playerSelection == 'paper' || playerSelection == 'scissors')
					console.log("good input: " + playerSelection);
				else {
					console.log("bad input: " + playerSelection);
				}
				let winner = playRound(playerSelection, computerSelection);
				if (winner == 1) {
					me++;
					console.log(`"You win! ${playerSelection} beats ${computerSelection}"`);
				} else if (winner == -1) {
					computer++;
					console.log(`"You Lose! ${computerSelection} beats ${playerSelection}"`);
				} else {
					index--;
					console.log(`It's a Draw!`);
				}
			}
			console.log(`the final result (YOU vs DUMP_COMPUTER): ${me} vs ${computer}`);
		}
		game();
		console.log("exec end");
	</script>

</body>

</html>